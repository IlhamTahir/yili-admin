import{e as i,i as d,O as v,M as r}from"./vendor.db0a3e2e.js";import{u as p}from"./useI18n.d1638193.js";const h=(l,s)=>{const t=i([]),a=d({current:1,total:0,pageSize:10}),n=i(!1),o=()=>{n.value=!0,l.list({page:a.current,size:a.pageSize,total:a.total,...s}).then(e=>{t.value=e.data,a.current=e.paging.page,a.pageSize=e.paging.size,a.total=e.paging.total,n.value=!1}).catch(e=>{throw n.value=!1,new Error(e)})};return v(o),{data:t,pagination:a,loading:n,fetchData:o,onPageChange:e=>{a.current=e.current,a.pageSize=e.pageSize,o()}}},{t:g}=p(),z=l=>{const s=i(!1),t=i(null),a=()=>{s.value=!0},n=e=>{t.value=e.row,s.value=!0},o=async(e,c)=>{t.value&&t.value.id?(await l.edit(t.value.id,e),await r.success(g("dialog.editSuccessMessage"))):(await l.create(e),await r.success(g("dialog.createSuccessMessage"))),c==null||c(),u()},u=()=>{s.value=!1,t.value=null};return{showDialog:s,editData:t,handleCreate:a,handleEdit:n,onDialogClose:u,handleConfirm:o}};export{z as a,h as u};
